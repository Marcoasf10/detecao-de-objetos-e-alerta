from PyQt5.QtWidgets import *
import importlib.util


def main():
    app = QApplication([])

    window = QWidget()
    window.setGeometry(500, 500, 500, 500)
    window.setWindowTitle("Deteção de objetos")

    layout = QVBoxLayout()
    label = QLabel("Press the button to start record")
    button = QPushButton("Run")
    button.clicked.connect(run_script)
    button.setGeometry(50, 30, 100, 30)

    layout.addWidget(label)
    layout.addWidget(button)

    window.setLayout(layout)

    window.show()
    app.exec()


def run_script(self):
    try:

        spec = importlib.util.spec_from_file_location("testeCv", "testeCv.py")
        module = importlib.util.module_from_spec(spec)
        spec.loader.exec_module(module)

        module.runscript()

    except Exception as e:
        print(f"Error executing script: {e}")


if __name__ == '__main__':
    main()
